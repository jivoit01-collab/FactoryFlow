import{u as a,a as u}from"./useMutation-C9YW0HdO.js";import{J as r,H as i,K as y}from"./index-JnW3N6op.js";const o={async getList(e){const t=new URLSearchParams;e?.from_date&&t.append("from_date",e.from_date),e?.to_date&&t.append("to_date",e.to_date),e?.entry_type&&t.append("entry_type",e.entry_type),e?.status&&t.append("status",e.status);const n=e?.status?r.VEHICLE.VEHICLE_ENTRIES_BY_STATUS:r.VEHICLE.VEHICLE_ENTRIES,s=t.toString()?`${n}?${t.toString()}`:n;return(await i.get(s)).data},async getById(e){return(await i.get(r.VEHICLE.VEHICLE_ENTRY_BY_ID(e))).data},async create(e){const t=new URLSearchParams;return t.append("entry_no",e.entry_no),t.append("vehicle",e.vehicle.toString()),t.append("driver",e.driver.toString()),e.remarks&&t.append("remarks",e.remarks),t.append("entry_type",e.entry_type),(await i.post(r.VEHICLE.VEHICLE_ENTRIES,t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},async update(e,t){const n=new URLSearchParams;return n.append("vehicle",t.vehicle.toString()),n.append("driver",t.driver.toString()),t.remarks&&n.append("remarks",t.remarks),(await i.put(r.VEHICLE.VEHICLE_ENTRY_BY_ID(e),n.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},async getCount(e){const t=new URLSearchParams;e?.from_date&&t.append("from_date",e.from_date),e?.to_date&&t.append("to_date",e.to_date),e?.entry_type&&t.append("entry_type",e.entry_type);const n=t.toString()?`${r.VEHICLE.VEHICLE_ENTRIES_COUNT}?${t.toString()}`:r.VEHICLE.VEHICLE_ENTRIES_COUNT;return(await i.get(n)).data}};function p(e){return a({queryKey:["vehicleEntries",e?.from_date,e?.to_date,e?.entry_type,e?.status],queryFn:()=>o.getList(e)})}function _(e){return a({queryKey:["vehicleEntriesCount",e?.from_date,e?.to_date,e?.entry_type],queryFn:()=>o.getCount(e)})}function l(e){return a({queryKey:["vehicleEntry",e],queryFn:()=>o.getById(e),enabled:!!e})}function C(){const e=y();return u({mutationFn:t=>o.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["vehicleEntries"]}),e.invalidateQueries({queryKey:["vehicleEntriesCount"]}),e.invalidateQueries({queryKey:["gateEntryFullView"]})}})}function f(){const e=y();return u({mutationFn:({id:t,data:n})=>o.update(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["vehicleEntries"]}),e.invalidateQueries({queryKey:["vehicleEntriesCount"]}),e.invalidateQueries({queryKey:["vehicleEntry"]}),e.invalidateQueries({queryKey:["gateEntryFullView"]})}})}export{l as a,C as b,f as c,_ as d,p as u};
