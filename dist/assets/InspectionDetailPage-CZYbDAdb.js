import{y as ue,H as Re,J as Oe,j as e,B as y,au as pe,Q as Te,z as Me,r as b,av as C,a as Le,W as Fe,M as I,C as H,b as q,c as W,e as z,L as h,I as x,as as oe}from"./index-DfliZ1OU.js";import{F as Q}from"./status.constants-q2VkBYr0.js";import{u as De}from"./useScrollToError-n191AQtQ.js";import{u as Be}from"./useMutation-BW1s3MWF.js";import{c as Qe,d as Ve,e as Ue,f as Ge,g as He,h as qe,i as We}from"./inspection.queries-BqD9FJvW.js";import{u as ze,M as $e}from"./MaterialTypeSelect-L71O4MzM.js";import{a as T,W as $,F as K}from"./qc.constants-CybBlgGQ.js";import{A as de}from"./arrow-left-C_yHQVur.js";import{C as Ke}from"./circle-alert-BrmK50Th.js";import{F as Je}from"./file-text-Dt6VIQgo.js";import{C as me}from"./circle-check-BJLvV6uA.js";import{C as Ye}from"./circle-x-BWFndibb.js";import{S as Xe}from"./send-DpuB9V4d.js";import"./triangle-alert-SXDGnHc7.js";import"./clock-T0iSBFYK.js";import"./SearchableSelect-DtgnHOvJ.js";import"./plus-CMKK_uBk.js";import"./materialType.queries-DH2DFa03.js";import"./user-check-CPop6-5F.js";const Ze=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],es=ue("pencil",Ze);const ss=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],as=ue("save",ss),ts={async getById(c){return(await Re.get(Oe.QUALITY_CONTROL_V2.ARRIVAL_SLIP_BY_ID(c))).data}},he={all:["qc-arrivalSlips"],detail:c=>[...he.all,"detail",c]};function rs(c){return Be({queryKey:he.detail(c),queryFn:()=>ts.getById(c),enabled:!!c})}const ns={chemist:{title:"Approved by QC Chemist",subtitle:"Inspection has been approved and forwarded to QC Manager"},manager:{title:"Approved by QC Manager",subtitle:"Quality control inspection is now complete"}};function is({type:c,onNavigateToDashboard:v,onNavigateToHome:P}){const j=ns[c];return e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background",children:[e.jsx("div",{className:"relative mb-8",children:e.jsxs("svg",{className:"h-32 w-32 text-green-500",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"animate-draw-circle",style:{strokeDasharray:283,strokeDashoffset:283}}),e.jsx("path",{d:"M30 50 L45 65 L70 35",fill:"none",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-draw-check",style:{strokeDasharray:60,strokeDashoffset:60}})]})}),e.jsx("h1",{className:"mb-2 text-3xl font-bold text-foreground opacity-0 animate-fade-in-delay-1",children:j.title}),e.jsx("p",{className:"mb-12 text-muted-foreground opacity-0 animate-fade-in-delay-2",children:j.subtitle}),e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row opacity-0 animate-fade-in-delay-3",children:[e.jsxs(y,{size:"lg",onClick:v,className:"min-w-[200px]",children:[e.jsx(pe,{className:"mr-2 h-5 w-5"}),"QC Dashboard"]}),e.jsxs(y,{size:"lg",variant:"outline",onClick:P,className:"min-w-[200px]",children:[e.jsx(Te,{className:"mr-2 h-5 w-5"}),"Home"]})]})]})}function ls(c){const{hasAnyPermission:v}=Me();return b.useMemo(()=>{const P=v([C.INSPECTION.CREATE]),j=v([C.INSPECTION.CREATE,C.INSPECTION.EDIT]),k=v([C.INSPECTION.SUBMIT]),E=v([C.APPROVAL.APPROVE_AS_CHEMIST]),M=v([C.APPROVAL.APPROVE_AS_QAM]),t=v([C.APPROVAL.REJECT,C.APPROVAL.APPROVE_AS_CHEMIST,C.APPROVAL.APPROVE_AS_QAM]),L=!c||c.workflow_status===T.DRAFT,_=c?.workflow_status===T.SUBMITTED,V=c?.workflow_status===T.QA_CHEMIST_APPROVED,d=c?.is_locked??!1,F=c?.workflow_status===T.QAM_APPROVED||c?.workflow_status===T.REJECTED;return{canCreateInspection:P,canEditInspection:j,canSubmitInspection:k,canApproveAsChemist:E,canApproveAsQAM:M,canReject:t,showSaveButton:!d&&L&&j,showSubmitButton:c&&L&&!d&&k,showChemistApproval:_&&E,showQAMApproval:V&&M,showRejectButton:(_||V)&&t,canEditFields:!d&&L&&j,isCompleted:F,isLocked:d}},[c,v])}function ks(){const c=Le(),{slipId:v,inspectionId:P}=Fe(),j=window.location.pathname.includes("/new"),k=v?parseInt(v):P?parseInt(P):null,[E,M]=b.useState(!1),{data:t,isLoading:L}=Qe(k),{data:_,isLoading:V}=rs(j&&!t?k:null),[d,F]=b.useState({inspection_date:new Date().toISOString().split("T")[0],description_of_material:"",sap_code:"",supplier_name:"",manufacturer_name:"",supplier_batch_lot_no:"",unit_packing:"",purchase_order_no:"",internal_report_no:"",invoice_bill_no:"",vehicle_no:"",material_type_id:0,remarks:""}),[D,J]=b.useState({}),[B,_e]=b.useState(""),[Y,xe]=b.useState(Q.ACCEPTED),[N,m]=b.useState({}),[X,Z]=b.useState(null);De(N);const{data:R=[]}=ze(d.material_type_id||null),ee=Ve(),se=Ue(),ae=Ge(),te=He(),re=qe(),ne=We();b.useEffect(()=>{if(t){F({inspection_date:t.inspection_date,description_of_material:t.description_of_material,sap_code:t.sap_code,supplier_name:t.supplier_name,manufacturer_name:t.manufacturer_name,supplier_batch_lot_no:t.supplier_batch_lot_no,unit_packing:t.unit_packing,purchase_order_no:t.purchase_order_no,internal_report_no:t.internal_report_no,invoice_bill_no:t.invoice_bill_no,vehicle_no:t.vehicle_no,material_type_id:t.material_type,remarks:t.remarks});const s={};t.parameter_results?.forEach(a=>{s[a.parameter_master]={result_value:a.result_value,result_numeric:a.result_numeric||void 0,is_within_spec:a.is_within_spec??void 0,remarks:a.remarks}}),J(s)}},[t]),b.useEffect(()=>{_&&!t&&j&&F(s=>({...s,description_of_material:_.item_name||s.description_of_material,sap_code:_.po_item_code||s.sap_code,supplier_name:_.party_name||s.supplier_name,unit_packing:_.billing_qty&&_.billing_uom?`${_.billing_qty} ${_.billing_uom}`:s.unit_packing,vehicle_no:_.truck_no_as_per_bill||s.vehicle_no,invoice_bill_no:_.commercial_invoice_no||s.invoice_bill_no,remarks:_.remarks||s.remarks}))},[_,t,j]);const f=(s,a)=>{F(n=>({...n,[s]:a})),N[s]&&m(n=>{const i={...n};return delete i[s],i})},w=(s,a,n)=>{J(r=>({...r,[s]:{...r[s],result_value:r[s]?.result_value||"",remarks:r[s]?.remarks||"",[a]:n}}));const i=`param_${s}`;N[i]&&m(r=>{const p={...r};return delete p[i],p})},U=(s,a,n,i,r)=>{if(w(s,"result_value",a),n==="NUMERIC"||n==="RANGE"){const p=parseFloat(a);if(!isNaN(p)&&(w(s,"result_numeric",p),n==="RANGE"&&i!=null&&r!=null)){const O=typeof i=="string"?parseFloat(i):i,S=typeof r=="string"?parseFloat(r):r;!isNaN(O)&&!isNaN(S)&&w(s,"is_within_spec",p>=O&&p<=S)}}else n==="BOOLEAN"&&w(s,"is_within_spec",a==="Pass")},ie=s=>{switch(s){case"NUMERIC":return"Enter numeric value";case"RANGE":return"Enter numeric value";case"BOOLEAN":return"Select Pass or Fail";default:return"Enter text value"}},ve=async()=>{if(k)try{m({});const s={};d.material_type_id||(s.material_type_id="Please select a material type");const a=R.filter(i=>i.is_mandatory);for(const i of a)D[i.id]?.result_value?.trim()||(s[`param_${i.id}`]=`${i.parameter_name} result is required`);if(Object.keys(s).length>0){m(s);return}let n=t?.id;if(t||(n=(await ee.mutateAsync({slipId:k,data:d})).id),n&&Object.keys(D).length>0){const i=Object.entries(D).map(([r,p])=>({parameter_master_id:parseInt(r),result_value:p.result_value||"",result_numeric:p.result_numeric,is_within_spec:p.is_within_spec??!0,remarks:p.remarks||""}));await se.mutateAsync({inspectionId:n,results:i})}M(!1)}catch(s){const a=s;if(a.errors){const n={};Object.entries(a.errors).forEach(([i,r])=>{n[i]=r[0]}),m(n)}else m({general:a.message||"Failed to save inspection"})}},fe=async()=>{if(!t){m({general:"Please save the inspection first"});return}try{m({}),await ae.mutateAsync(t.id)}catch(s){const a=s;if(a.errors){const n={};Object.entries(a.errors).forEach(([i,r])=>{n[i]=r[0]}),m(n)}else m({general:a.message||"Failed to submit inspection"})}},je=async()=>{if(t)try{m({}),await te.mutateAsync({id:t.id,data:{remarks:B}}),Z("chemist")}catch(s){const a=s;if(a.errors){const n={};Object.entries(a.errors).forEach(([i,r])=>{n[i]=r[0]}),m(n)}else m({general:a.message||"Failed to approve"})}},Ne=async()=>{if(t)try{m({}),await re.mutateAsync({id:t.id,data:{remarks:B,final_status:Y}}),Z("manager")}catch(s){const a=s;if(a.errors){const n={};Object.entries(a.errors).forEach(([i,r])=>{n[i]=r[0]}),m(n)}else m({general:a.message||"Failed to approve"})}},ge=async()=>{if(t){if(!B.trim()){m({approval_remarks:"Please provide a reason for rejection"});return}try{m({}),await ne.mutateAsync({id:t.id,data:{remarks:B}})}catch(s){const a=s;if(a.errors){const n={};Object.entries(a.errors).forEach(([i,r])=>{n[i]=r[0]}),m(n)}else m({general:a.message||"Failed to reject"})}}},{canEditInspection:be,showSubmitButton:ye,showChemistApproval:Ae,showQAMApproval:Ce,showRejectButton:we,canEditFields:ke,isLocked:Ee}=ls(t),Se=!t||t.workflow_status===T.DRAFT,o=ke&&(!t||E),Ie=t&&Se&&be&&!E&&!Ee,Pe=ye&&!E,le=Ae,G=Ce,ce=we,l=ee.isPending||se.isPending||ae.isPending||te.isPending||re.isPending||ne.isPending;return X?e.jsx(is,{type:X,onNavigateToDashboard:()=>c("/qc"),onNavigateToHome:()=>c("/")}):L||V?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>c("/qc/pending"),children:e.jsx(de,{className:"h-4 w-4"})}),e.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[e.jsx(pe,{className:"h-8 w-8"}),j?"New Inspection":"Inspection Details"]})]}),t&&e.jsxs("div",{className:"flex items-center gap-4 ml-10",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Report No: ",t.report_no]}),e.jsx("span",{className:I("px-2 py-1 rounded-full text-xs font-medium",$[t.workflow_status].bgColor,$[t.workflow_status].color),children:$[t.workflow_status].label}),t.final_status!==Q.PENDING&&e.jsx("span",{className:I("px-2 py-1 rounded-full text-xs font-medium",K[t.final_status].bgColor,K[t.final_status].color),children:K[t.final_status].label})]})]})}),N.general&&e.jsxs("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),N.general]}),e.jsxs(H,{children:[e.jsx(q,{children:e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Inspection Information"]})}),e.jsx(z,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Description of Material"}),e.jsx(x,{value:d.description_of_material||"",onChange:s=>f("description_of_material",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"SAP Code"}),e.jsx(x,{value:d.sap_code||"",onChange:s=>f("sap_code",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Supplier Name"}),e.jsx(x,{value:d.supplier_name||"",onChange:s=>f("supplier_name",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Unit Packing"}),e.jsx(x,{value:d.unit_packing||"",onChange:s=>f("unit_packing",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Vehicle No."}),e.jsx(x,{value:d.vehicle_no||"",onChange:s=>f("vehicle_no",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Invoice/Bill No."}),e.jsx(x,{value:d.invoice_bill_no||"",onChange:s=>f("invoice_bill_no",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Inspection Date"}),e.jsx(x,{type:"date",value:d.inspection_date||"",onChange:s=>f("inspection_date",s.target.value),disabled:!o||l})]}),e.jsx($e,{label:"Material Type",required:!0,value:d.material_type_id||void 0,onChange:s=>f("material_type_id",s?.id||0),disabled:!o||l||!!t,error:N.material_type_id}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Internal Report No."}),e.jsx(x,{value:d.internal_report_no||"",onChange:s=>f("internal_report_no",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Manufacturer Name"}),e.jsx(x,{value:d.manufacturer_name||"",onChange:s=>f("manufacturer_name",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Supplier Batch/Lot No."}),e.jsx(x,{value:d.supplier_batch_lot_no||"",onChange:s=>f("supplier_batch_lot_no",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Purchase Order No."}),e.jsx(x,{value:d.purchase_order_no||"",onChange:s=>f("purchase_order_no",s.target.value),disabled:!o||l})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-3",children:[e.jsx(h,{children:"Remarks"}),e.jsx(oe,{value:d.remarks||"",onChange:s=>f("remarks",s.target.value),disabled:!o||l,rows:2})]})]})})]}),((t?.parameter_results?.length??0)>0||R.length>0)&&e.jsxs(H,{children:[e.jsx(q,{children:e.jsx(W,{children:"QC Parameters"})}),e.jsxs(z,{children:[e.jsx("div",{className:"md:hidden space-y-4",children:(t?.parameter_results||R).map(s=>{const a="parameter_master"in s?s.parameter_master:s.id,n=s.parameter_name,i=s.standard_value,r=s.parameter_type,p=s.min_value,O=s.max_value,S="is_mandatory"in s?s.is_mandatory:R.find(u=>u.id===a)?.is_mandatory??!1,g=N[`param_${a}`],A=D[a]||{result_value:"",is_within_spec:!0,remarks:""};return e.jsxs("div",{className:I("border rounded-lg p-3 space-y-3",g&&"border-destructive"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium text-sm",children:[n,S&&e.jsx("span",{className:"text-destructive",children:" *"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:A.is_within_spec??!0,onChange:u=>w(a,"is_within_spec",u.target.checked),disabled:!o||l||r==="BOOLEAN"||r==="RANGE",className:"h-4 w-4 rounded border-gray-300"}),e.jsx("span",{className:"text-muted-foreground",children:"Within Spec"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Standard: ",i]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(h,{className:"text-xs",children:["Result",S&&e.jsx("span",{className:"text-destructive",children:" *"})]}),r==="BOOLEAN"?e.jsxs("select",{value:A.result_value,onChange:u=>U(a,u.target.value,r),disabled:!o||l,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",g&&"border-destructive"),children:[e.jsx("option",{value:"",children:"Select Pass or Fail"}),e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]}):e.jsx(x,{type:r==="NUMERIC"||r==="RANGE"?"number":"text",step:r==="NUMERIC"||r==="RANGE"?"any":void 0,value:A.result_value,onChange:u=>U(a,u.target.value,r,p,O),disabled:!o||l,className:I("w-full",g&&"border-destructive"),placeholder:ie(r)}),g&&e.jsx("p",{className:"text-xs text-destructive",children:g})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(h,{className:"text-xs",children:"Remarks"}),e.jsx(x,{value:A.remarks,onChange:u=>w(a,"remarks",u.target.value),disabled:!o||l,className:"w-full",placeholder:"Optional"})]})]},a)})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left p-3 font-medium",children:"Parameter"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Standard Value"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Result"}),e.jsx("th",{className:"text-center p-3 font-medium",children:"Within Spec"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"Remarks"})]})}),e.jsx("tbody",{children:(t?.parameter_results||R).map(s=>{const a="parameter_master"in s?s.parameter_master:s.id,n=s.parameter_name,i=s.standard_value,r=s.parameter_type,p=s.min_value,O=s.max_value,S="is_mandatory"in s?s.is_mandatory:R.find(u=>u.id===a)?.is_mandatory??!1,g=N[`param_${a}`],A=D[a]||{result_value:"",is_within_spec:!0,remarks:""};return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3",children:e.jsxs("span",{className:"font-medium",children:[n,S&&e.jsx("span",{className:"text-destructive",children:" *"})]})}),e.jsx("td",{className:"p-3 text-muted-foreground",children:i}),e.jsxs("td",{className:"p-3",children:[r==="BOOLEAN"?e.jsxs("select",{value:A.result_value,onChange:u=>U(a,u.target.value,r),disabled:!o||l,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",g&&"border-destructive"),children:[e.jsx("option",{value:"",children:"Select Pass or Fail"}),e.jsx("option",{value:"Pass",children:"Pass"}),e.jsx("option",{value:"Fail",children:"Fail"})]}):e.jsx(x,{type:r==="NUMERIC"||r==="RANGE"?"number":"text",step:r==="NUMERIC"||r==="RANGE"?"any":void 0,value:A.result_value,onChange:u=>U(a,u.target.value,r,p,O),disabled:!o||l,className:I("w-full",g&&"border-destructive"),placeholder:ie(r)}),g&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:g})]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("input",{type:"checkbox",checked:A.is_within_spec??!0,onChange:u=>w(a,"is_within_spec",u.target.checked),disabled:!o||l||r==="BOOLEAN"||r==="RANGE",className:"h-4 w-4 rounded border-gray-300"})}),e.jsx("td",{className:"p-3",children:e.jsx(x,{value:A.remarks,onChange:u=>w(a,"remarks",u.target.value),disabled:!o||l,className:"w-full",placeholder:"Optional"})})]},a)})})]})})]})]}),(le||G||ce)&&e.jsxs(H,{className:"border-primary/50",children:[e.jsx(q,{children:e.jsx(W,{children:"Approval"})}),e.jsxs(z,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Remarks"}),e.jsx(oe,{value:B,onChange:s=>_e(s.target.value),placeholder:"Enter approval/rejection remarks",rows:3}),N.approval_remarks&&e.jsx("p",{className:"text-sm text-destructive",children:N.approval_remarks})]}),G&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{children:"Final Status"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:Y,onChange:s=>xe(s.target.value),children:[e.jsx("option",{value:Q.ACCEPTED,children:"Accepted"}),e.jsx("option",{value:Q.REJECTED,children:"Rejected"}),e.jsx("option",{value:Q.HOLD,children:"Hold"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[le&&e.jsxs(y,{onClick:je,disabled:l,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Approve as Chemist"]}),G&&e.jsxs(y,{onClick:Ne,disabled:l,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Approve as Manager"]}),ce&&e.jsxs(y,{variant:"destructive",onClick:ge,disabled:l,children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse gap-4 sm:flex-row sm:justify-between",children:[e.jsxs(y,{variant:"outline",onClick:()=>c("/qc/pending"),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex gap-4",children:[Ie&&e.jsxs(y,{variant:"outline",onClick:()=>M(!0),children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Update"]}),o&&e.jsxs(y,{onClick:ve,disabled:l,children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),l?"Saving...":"Save"]}),Pe&&!E&&e.jsxs(y,{onClick:fe,disabled:l,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]})]})]})]})}export{ks as default};
