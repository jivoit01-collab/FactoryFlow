import{H as f,J as S,r as g,j as s}from"./index-DfliZ1OU.js";import{S as D}from"./SearchableSelect-DtgnHOvJ.js";import{u as N}from"./useMutation-BW1s3MWF.js";const y={async getDepartments(){return(await f.get(S.ACCOUNTS.DEPARTMENTS)).data}};function I(t=!0){return N({queryKey:["departments"],queryFn:()=>y.getDepartments(),enabled:t})}function C({value:t,onChange:n,placeholder:a="Select department",disabled:r=!1,error:o,label:i,required:m=!1,initialDisplayText:p}){const[d,l]=g.useState(!1),{data:c=[],isLoading:u,isError:x}=I(d);return s.jsx(D,{value:t?String(t):void 0,items:c,isLoading:u,isError:x,placeholder:a,disabled:r,error:o,label:i,required:m,inputId:"department-select",inputClassName:"border-2 font-medium",defaultDisplayText:p,getItemKey:e=>e.id,getItemLabel:e=>e.name,renderItem:e=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:e.name}),e.description&&s.jsx("span",{className:"text-xs text-muted-foreground",children:e.description})]}),loadingText:"Loading departments...",emptyText:"No departments available",notFoundText:"No departments found",onOpenChange:l,onItemSelect:e=>{n(e.id,e.name)},onClear:()=>{n("","")}})}export{C as D};
