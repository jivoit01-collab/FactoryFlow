import{r as i}from"./index-_Sfdy-kJ.js";function g(n,p={}){const{enabled:a=!0,behavior:s="smooth",block:m="center",shouldFocus:y=!0,offset:u=0}=p,d=i.useRef(0),l=i.useCallback(o=>{const r=Object.keys(o);if(r.length===0)return null;for(const e of r){const t=o[e];if(t){if(typeof t=="object"&&!("message"in t)&&!("type"in t)){const c=l(t);if(c)return`${e}.${c}`}return e}}return r[0]},[]),f=i.useCallback(()=>{const o=l(n);if(!o)return;const r=[`[name="${o}"]`,`#${o}`,`[data-field="${o}"]`,`[name="${o.replace(/\./g,"\\.")}"]`];let e=null;for(const t of r)try{if(e=document.querySelector(t),e)break}catch{}if(!e){const t=document.querySelector(".text-destructive");t&&(e=t)}if(e){if(u>0){const c=e.getBoundingClientRect().top+window.scrollY-u;window.scrollTo({top:c,behavior:s})}else e.scrollIntoView({behavior:s,block:m});y&&"focus"in e&&typeof e.focus=="function"&&setTimeout(()=>{e.focus({preventScroll:!0})},s==="smooth"?300:0)}},[n,l,s,m,y,u]);return i.useEffect(()=>{if(!a)return;const r=Object.keys(n).length;r>0&&r>d.current&&requestAnimationFrame(()=>{f()}),d.current=r},[n,a,f]),{scrollToFirstError:f}}export{g as u};
