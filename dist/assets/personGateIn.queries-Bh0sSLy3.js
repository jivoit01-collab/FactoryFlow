import{u as i,a as o}from"./useMutation-ymheTFRs.js";import{H as r,K as a}from"./index-Df6yG8ds.js";const y={VISITOR:1,LABOUR:2},s={getPersonTypes:async()=>(await r.get("/person-gatein/person-types/")).data,createPersonType:async e=>(await r.post("/person-gatein/person-types/",e)).data,updatePersonType:async(e,n)=>(await r.put(`/person-gatein/person-types/${e}/`,n)).data,deletePersonType:async e=>{await r.delete(`/person-gatein/person-types/${e}/`)},getGates:async()=>(await r.get("/person-gatein/gates/")).data,createGate:async e=>(await r.post("/person-gatein/gates/",e)).data,updateGate:async(e,n)=>(await r.put(`/person-gatein/gates/${e}/`,n)).data,deleteGate:async e=>{await r.delete(`/person-gatein/gates/${e}/`)},getContractors:async()=>(await r.get("/person-gatein/contractors/")).data,createContractor:async e=>(await r.post("/person-gatein/contractors/",e)).data,updateContractor:async(e,n)=>(await r.put(`/person-gatein/contractors/${e}/`,n)).data,deleteContractor:async e=>{await r.delete(`/person-gatein/contractors/${e}/`)},getVisitors:async e=>{const n=e?{search:e}:{};return(await r.get("/person-gatein/visitors/",{params:n})).data},getVisitor:async e=>(await r.get(`/person-gatein/visitors/${e}/`)).data,createVisitor:async e=>{const n=new FormData;return n.append("name",e.name),e.mobile&&n.append("mobile",e.mobile),e.company_name&&n.append("company_name",e.company_name),e.id_proof_type&&n.append("id_proof_type",e.id_proof_type),e.id_proof_no&&n.append("id_proof_no",e.id_proof_no),e.photo&&n.append("photo",e.photo),e.blacklisted!==void 0&&n.append("blacklisted",String(e.blacklisted)),(await r.post("/person-gatein/visitors/",n,{headers:{"Content-Type":"multipart/form-data"}})).data},updateVisitor:async(e,n)=>{const t=new FormData;return t.append("name",n.name),n.mobile&&t.append("mobile",n.mobile),n.company_name&&t.append("company_name",n.company_name),n.id_proof_type&&t.append("id_proof_type",n.id_proof_type),n.id_proof_no&&t.append("id_proof_no",n.id_proof_no),n.photo&&t.append("photo",n.photo),n.blacklisted!==void 0&&t.append("blacklisted",String(n.blacklisted)),(await r.put(`/person-gatein/visitors/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteVisitor:async e=>{await r.delete(`/person-gatein/visitors/${e}/`)},getLabours:async(e,n)=>{const t={};return e&&(t.search=e),n&&(t.contractor=n),(await r.get("/person-gatein/labours/",{params:t})).data},getLabour:async e=>(await r.get(`/person-gatein/labours/${e}/`)).data,createLabour:async e=>{const n=new FormData;return n.append("name",e.name),n.append("contractor",String(e.contractor)),e.mobile&&n.append("mobile",e.mobile),e.id_proof_no&&n.append("id_proof_no",e.id_proof_no),e.photo&&n.append("photo",e.photo),e.skill_type&&n.append("skill_type",e.skill_type),e.permit_valid_till&&n.append("permit_valid_till",e.permit_valid_till),e.is_active!==void 0&&n.append("is_active",String(e.is_active)),(await r.post("/person-gatein/labours/",n,{headers:{"Content-Type":"multipart/form-data"}})).data},updateLabour:async(e,n)=>{const t=new FormData;return t.append("name",n.name),t.append("contractor",String(n.contractor)),n.mobile&&t.append("mobile",n.mobile),n.id_proof_no&&t.append("id_proof_no",n.id_proof_no),n.photo&&t.append("photo",n.photo),n.skill_type&&t.append("skill_type",n.skill_type),n.permit_valid_till&&t.append("permit_valid_till",n.permit_valid_till),n.is_active!==void 0&&t.append("is_active",String(n.is_active)),(await r.put(`/person-gatein/labours/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteLabour:async e=>{await r.delete(`/person-gatein/labours/${e}/`)},createEntry:async e=>(await r.post("/person-gatein/entry/create/",e)).data,getEntry:async e=>(await r.get(`/person-gatein/entry/${e}/`)).data,exitEntry:async(e,n)=>(await r.post(`/person-gatein/entry/${e}/exit/`,n)).data,cancelEntry:async e=>(await r.post(`/person-gatein/entry/${e}/cancel/`)).data,updateEntry:async(e,n)=>(await r.patch(`/person-gatein/entry/${e}/update/`,n)).data,getInsideList:async()=>(await r.get("/person-gatein/entry/inside/")).data,getAllEntries:async e=>(await r.get("/person-gatein/entries/",{params:e})).data,searchEntries:async e=>(await r.get("/person-gatein/entries/search/",{params:e})).data,getEntryCounts:async e=>(await r.get("/person-gatein/entries/count/",{params:e})).data,getDashboard:async()=>(await r.get("/person-gatein/dashboard/")).data,getVisitorHistory:async e=>(await r.get(`/person-gatein/visitor/${e}/history/`)).data,getLabourHistory:async e=>(await r.get(`/person-gatein/labour/${e}/history/`)).data,checkPersonStatus:async e=>(await r.get("/person-gatein/check-status/",{params:e})).data};function l(e=!0){return i({queryKey:["personGates"],queryFn:()=>s.getGates(),staleTime:300*1e3,enabled:e})}function d(e=!0){return i({queryKey:["contractors"],queryFn:()=>s.getContractors(),staleTime:300*1e3,enabled:e})}function g(){const e=a();return o({mutationFn:n=>s.createContractor(n),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function m(){const e=a();return o({mutationFn:({id:n,data:t})=>s.updateContractor(n,t),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function f(){const e=a();return o({mutationFn:n=>s.deleteContractor(n),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function _(e,n=!0){return i({queryKey:["visitors",e],queryFn:()=>s.getVisitors(e),staleTime:120*1e3,enabled:n})}function b(e){return i({queryKey:["visitor",e],queryFn:()=>s.getVisitor(e),enabled:!!e})}function q(){const e=a();return o({mutationFn:n=>s.createVisitor(n),onSuccess:()=>{e.invalidateQueries({queryKey:["visitors"]})}})}function v(){const e=a();return o({mutationFn:({id:n,data:t})=>s.updateVisitor(n,t),onSuccess:(n,{id:t})=>{e.invalidateQueries({queryKey:["visitors"]}),e.invalidateQueries({queryKey:["visitor",t]})}})}function w(){const e=a();return o({mutationFn:n=>s.deleteVisitor(n),onSuccess:()=>{e.invalidateQueries({queryKey:["visitors"]})}})}function C(e,n,t=!0){return i({queryKey:["labours",e,n],queryFn:()=>s.getLabours(e,n),staleTime:120*1e3,enabled:t})}function K(e){return i({queryKey:["labour",e],queryFn:()=>s.getLabour(e),enabled:!!e})}function E(){const e=a();return o({mutationFn:n=>s.createLabour(n),onSuccess:()=>{e.invalidateQueries({queryKey:["labours"]})}})}function h(){const e=a();return o({mutationFn:({id:n,data:t})=>s.updateLabour(n,t),onSuccess:(n,{id:t})=>{e.invalidateQueries({queryKey:["labours"]}),e.invalidateQueries({queryKey:["labour",t]})}})}function F(){const e=a();return o({mutationFn:n=>s.deleteLabour(n),onSuccess:()=>{e.invalidateQueries({queryKey:["labours"]})}})}function L(e){return i({queryKey:["personEntries",e],queryFn:async()=>(await s.getAllEntries(e)).results,staleTime:30*1e3})}function Q(){return i({queryKey:["insideList"],queryFn:()=>s.getInsideList(),staleTime:15*1e3,refetchInterval:30*1e3})}function S(e){return i({queryKey:["personEntry",e],queryFn:()=>s.getEntry(e),enabled:!!e})}function $(){const e=a();return o({mutationFn:n=>s.createEntry(n),onSuccess:()=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]})}})}function T(){const e=a();return o({mutationFn:({id:n,data:t})=>s.exitEntry(n,t),onSuccess:(n,{id:t})=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntry",t]})}})}function V(){const e=a();return o({mutationFn:n=>s.cancelEntry(n),onSuccess:(n,t)=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntry",t]})}})}function D(){return i({queryKey:["personGateInDashboard"],queryFn:()=>s.getDashboard(),staleTime:30*1e3,refetchInterval:60*1e3})}export{y as P,L as a,Q as b,T as c,l as d,E as e,q as f,C as g,_ as h,$ as i,d as j,S as k,b as l,K as m,V as n,v as o,w as p,h as q,F as r,g as s,m as t,D as u,f as v};
