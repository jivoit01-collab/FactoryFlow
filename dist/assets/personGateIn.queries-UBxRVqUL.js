import{u as i,a as o}from"./useMutation-26qx2_Go.js";import{H as r,K as a}from"./index-BiqUYfMP.js";const y={VISITOR:1,LABOUR:2},s={getPersonTypes:async()=>(await r.get("/person-gatein/person-types/")).data,createPersonType:async e=>(await r.post("/person-gatein/person-types/",e)).data,updatePersonType:async(e,t)=>(await r.put(`/person-gatein/person-types/${e}/`,t)).data,deletePersonType:async e=>{await r.delete(`/person-gatein/person-types/${e}/`)},getGates:async()=>(await r.get("/person-gatein/gates/")).data,createGate:async e=>(await r.post("/person-gatein/gates/",e)).data,updateGate:async(e,t)=>(await r.put(`/person-gatein/gates/${e}/`,t)).data,deleteGate:async e=>{await r.delete(`/person-gatein/gates/${e}/`)},getContractors:async()=>(await r.get("/person-gatein/contractors/")).data,createContractor:async e=>(await r.post("/person-gatein/contractors/",e)).data,updateContractor:async(e,t)=>(await r.put(`/person-gatein/contractors/${e}/`,t)).data,deleteContractor:async e=>{await r.delete(`/person-gatein/contractors/${e}/`)},getVisitors:async e=>{const t=e?{search:e}:{};return(await r.get("/person-gatein/visitors/",{params:t})).data},getVisitor:async e=>(await r.get(`/person-gatein/visitors/${e}/`)).data,createVisitor:async e=>{const t=new FormData;return t.append("name",e.name),e.mobile&&t.append("mobile",e.mobile),e.company_name&&t.append("company_name",e.company_name),e.id_proof_type&&t.append("id_proof_type",e.id_proof_type),e.id_proof_no&&t.append("id_proof_no",e.id_proof_no),e.photo&&t.append("photo",e.photo),e.blacklisted!==void 0&&t.append("blacklisted",String(e.blacklisted)),(await r.post("/person-gatein/visitors/",t,{headers:{"Content-Type":"multipart/form-data"}})).data},updateVisitor:async(e,t)=>{const n=new FormData;return n.append("name",t.name),t.mobile&&n.append("mobile",t.mobile),t.company_name&&n.append("company_name",t.company_name),t.id_proof_type&&n.append("id_proof_type",t.id_proof_type),t.id_proof_no&&n.append("id_proof_no",t.id_proof_no),t.photo&&n.append("photo",t.photo),t.blacklisted!==void 0&&n.append("blacklisted",String(t.blacklisted)),(await r.put(`/person-gatein/visitors/${e}/`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteVisitor:async e=>{await r.delete(`/person-gatein/visitors/${e}/`)},getLabours:async(e,t)=>{const n={};return e&&(n.search=e),t&&(n.contractor=t),(await r.get("/person-gatein/labours/",{params:n})).data},getLabour:async e=>(await r.get(`/person-gatein/labours/${e}/`)).data,createLabour:async e=>{const t=new FormData;return t.append("name",e.name),t.append("contractor",String(e.contractor)),e.mobile&&t.append("mobile",e.mobile),e.id_proof_no&&t.append("id_proof_no",e.id_proof_no),e.photo&&t.append("photo",e.photo),e.skill_type&&t.append("skill_type",e.skill_type),e.permit_valid_till&&t.append("permit_valid_till",e.permit_valid_till),e.is_active!==void 0&&t.append("is_active",String(e.is_active)),(await r.post("/person-gatein/labours/",t,{headers:{"Content-Type":"multipart/form-data"}})).data},updateLabour:async(e,t)=>{const n=new FormData;return n.append("name",t.name),n.append("contractor",String(t.contractor)),t.mobile&&n.append("mobile",t.mobile),t.id_proof_no&&n.append("id_proof_no",t.id_proof_no),t.photo&&n.append("photo",t.photo),t.skill_type&&n.append("skill_type",t.skill_type),t.permit_valid_till&&n.append("permit_valid_till",t.permit_valid_till),t.is_active!==void 0&&n.append("is_active",String(t.is_active)),(await r.put(`/person-gatein/labours/${e}/`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteLabour:async e=>{await r.delete(`/person-gatein/labours/${e}/`)},createEntry:async e=>(await r.post("/person-gatein/entry/create/",e)).data,getEntry:async e=>(await r.get(`/person-gatein/entry/${e}/`)).data,exitEntry:async(e,t)=>(await r.post(`/person-gatein/entry/${e}/exit/`,t)).data,cancelEntry:async e=>(await r.post(`/person-gatein/entry/${e}/cancel/`)).data,updateEntry:async(e,t)=>(await r.patch(`/person-gatein/entry/${e}/update/`,t)).data,getInsideList:async()=>(await r.get("/person-gatein/entry/inside/")).data,getAllEntries:async e=>(await r.get("/person-gatein/entries/",{params:e})).data,searchEntries:async e=>(await r.get("/person-gatein/entries/search/",{params:e})).data,getEntryCounts:async e=>(await r.get("/person-gatein/entries/count/",{params:e})).data,getDashboard:async()=>(await r.get("/person-gatein/dashboard/")).data,getVisitorHistory:async e=>(await r.get(`/person-gatein/visitor/${e}/history/`)).data,getLabourHistory:async e=>(await r.get(`/person-gatein/labour/${e}/history/`)).data,checkPersonStatus:async e=>(await r.get("/person-gatein/check-status/",{params:e})).data,getContractorLaboursStatus:async e=>(await r.get(`/person-gatein/contractor/${e}/labours-status/`)).data,bulkCreateEntry:async e=>(await r.post("/person-gatein/entry/bulk-create/",e)).data,bulkExitEntry:async e=>(await r.post("/person-gatein/entry/bulk-exit/",e)).data};function l(e=!0){return i({queryKey:["personGates"],queryFn:()=>s.getGates(),staleTime:300*1e3,enabled:e})}function d(e=!0){return i({queryKey:["contractors"],queryFn:()=>s.getContractors(),staleTime:300*1e3,enabled:e})}function g(){const e=a();return o({mutationFn:t=>s.createContractor(t),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function m(){const e=a();return o({mutationFn:({id:t,data:n})=>s.updateContractor(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function f(){const e=a();return o({mutationFn:t=>s.deleteContractor(t),onSuccess:()=>{e.invalidateQueries({queryKey:["contractors"]})}})}function _(e,t=!0){return i({queryKey:["visitors",e],queryFn:()=>s.getVisitors(e),staleTime:120*1e3,enabled:t})}function b(e){return i({queryKey:["visitor",e],queryFn:()=>s.getVisitor(e),enabled:!!e})}function q(){const e=a();return o({mutationFn:t=>s.createVisitor(t),onSuccess:()=>{e.invalidateQueries({queryKey:["visitors"]})}})}function v(){const e=a();return o({mutationFn:({id:t,data:n})=>s.updateVisitor(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["visitors"]}),e.invalidateQueries({queryKey:["visitor",n]})}})}function C(){const e=a();return o({mutationFn:t=>s.deleteVisitor(t),onSuccess:()=>{e.invalidateQueries({queryKey:["visitors"]})}})}function w(e,t,n=!0){return i({queryKey:["labours",e,t],queryFn:()=>s.getLabours(e,t),staleTime:120*1e3,enabled:n})}function E(e){return i({queryKey:["labour",e],queryFn:()=>s.getLabour(e),enabled:!!e})}function K(){const e=a();return o({mutationFn:t=>s.createLabour(t),onSuccess:()=>{e.invalidateQueries({queryKey:["labours"]})}})}function L(){const e=a();return o({mutationFn:({id:t,data:n})=>s.updateLabour(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["labours"]}),e.invalidateQueries({queryKey:["labour",n]})}})}function Q(){const e=a();return o({mutationFn:t=>s.deleteLabour(t),onSuccess:()=>{e.invalidateQueries({queryKey:["labours"]})}})}function h(e){return i({queryKey:["personEntries",e],queryFn:async()=>(await s.getAllEntries(e)).results,staleTime:30*1e3})}function S(){return i({queryKey:["insideList"],queryFn:()=>s.getInsideList(),staleTime:15*1e3,refetchInterval:30*1e3})}function F(e){return i({queryKey:["personEntry",e],queryFn:()=>s.getEntry(e),enabled:!!e})}function k(){const e=a();return o({mutationFn:t=>s.createEntry(t),onSuccess:()=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]})}})}function $(){const e=a();return o({mutationFn:({id:t,data:n})=>s.exitEntry(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntry",n]})}})}function D(){const e=a();return o({mutationFn:t=>s.cancelEntry(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personEntryCounts"]}),e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntry",n]})}})}function T(){return i({queryKey:["personGateInDashboard"],queryFn:()=>s.getDashboard(),staleTime:30*1e3,refetchInterval:60*1e3})}function V(e){return i({queryKey:["contractorLaboursStatus",e],queryFn:()=>s.getContractorLaboursStatus(e),enabled:!!e,staleTime:15*1e3,refetchInterval:30*1e3})}function P(){const e=a();return o({mutationFn:t=>s.bulkCreateEntry(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personGateInDashboard"]}),e.invalidateQueries({queryKey:["contractorLaboursStatus",n.contractor_id]})}})}function G(){const e=a();return o({mutationFn:t=>s.bulkExitEntry(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["insideList"]}),e.invalidateQueries({queryKey:["personEntries"]}),e.invalidateQueries({queryKey:["personGateInDashboard"]}),e.invalidateQueries({queryKey:["contractorLaboursStatus",n.contractor_id]})}})}export{y as P,h as a,S as b,$ as c,l as d,K as e,q as f,w as g,_ as h,k as i,d as j,F as k,b as l,E as m,D as n,v as o,C as p,L as q,Q as r,g as s,m as t,T as u,f as v,V as w,P as x,G as y};
