import{V as p}from"./index-Dm3Xfjnt.js";import{p as Dt,a as Et,$ as kt}from"./schemas-D8ebsZBL.js";var he=e=>e.type==="checkbox",se=e=>e instanceof Date,N=e=>e==null;const lt=e=>typeof e=="object";var k=e=>!N(e)&&!Array.isArray(e)&&lt(e)&&!se(e),St=e=>k(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Ot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ct=(e,s)=>e.has(Ot(s)),Tt=e=>{const s=e.constructor&&e.constructor.prototype;return k(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Oe&&(e instanceof Blob||s))return e;const t=Array.isArray(e);if(!t&&!(k(e)&&Tt(e)))return e;const i=t?[]:Object.create(Object.getPrototypeOf(e));for(const u in e)Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=T(e[u]));return i}var _e=e=>/^\w*$/.test(e),x=e=>e===void 0,Ce=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,s,t)=>{if(!s||!k(e))return t;const i=(_e(s)?[s]:Te(s)).reduce((u,n)=>N(u)?u:u[n],e);return x(i)||i===e?x(e[s])?t:e[s]:i},K=e=>typeof e=="boolean",H=e=>typeof e=="function",w=(e,s,t)=>{let i=-1;const u=_e(s)?[s]:Te(s),n=u.length,l=n-1;for(;++i<n;){const d=u[i];let D=t;if(i!==l){const L=e[d];D=k(L)||Array.isArray(L)?L:isNaN(+u[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=D,e=e[d]}};const ze={BLUR:"blur",FOCUS_OUT:"focusout"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lt=p.createContext(null);Lt.displayName="HookFormControlContext";var Ut=(e,s,t,i=!0)=>{const u={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const l=n;return s._proxyFormState[l]!==$.all&&(s._proxyFormState[l]=!i||$.all),e[l]}});return u};const Rt=typeof window<"u"?p.useLayoutEffect:p.useEffect;var B=e=>typeof e=="string",pt=(e,s,t,i,u)=>B(e)?(i&&s.watch.add(e),h(t,e,u)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),h(t,n))):(i&&(s.watchAll=!0),t),Ee=e=>N(e)||!lt(e);function ee(e,s,t=new WeakSet){if(Ee(e)||Ee(s))return Object.is(e,s);if(se(e)&&se(s))return Object.is(e.getTime(),s.getTime());const i=Object.keys(e),u=Object.keys(s);if(i.length!==u.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of i){const l=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const d=s[n];if(se(l)&&se(d)||k(l)&&k(d)||Array.isArray(l)&&Array.isArray(d)?!ee(l,d,t):!Object.is(l,d))return!1}}return!0}const Mt=p.createContext(null);Mt.displayName="HookFormContext";var Le=(e,s,t,i,u)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:u||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Ke=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}};function ut(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const u=e[i],n=s[i];if(u&&k(u)&&n){const l=ut(u,n);k(l)&&(t[i]=l)}else e[i]&&(t[i]=n)}return t}var M=e=>k(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",be=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ft=e=>e.type==="select-multiple",Re=e=>e.type==="radio",Nt=e=>Re(e)||he(e),De=e=>be(e)&&e.isConnected;function Pt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=x(e)?i++:e[s[i++]];return e}function It(e){for(const s in e)if(e.hasOwnProperty(s)&&!x(e[s]))return!1;return!0}function E(e,s){const t=Array.isArray(s)?s:_e(s)?[s]:Te(s),i=t.length===1?e:Pt(e,t),u=t.length-1,n=t[u];return i&&delete i[n],u!==0&&(k(i)&&M(i)||Array.isArray(i)&&It(i))&&E(e,t.slice(0,-1)),e}var Bt=e=>{for(const s in e)if(H(e[s]))return!0;return!1};function dt(e){return Array.isArray(e)||k(e)&&!Bt(e)}function ke(e,s={}){for(const t in e){const i=e[t];dt(i)?(s[t]=Array.isArray(i)?[]:{},ke(i,s[t])):x(i)||(s[t]=!0)}return s}function ne(e,s,t){t||(t=ke(s));for(const i in e){const u=e[i];if(dt(u))x(s)||Ee(t[i])?t[i]=ke(u,Array.isArray(u)?[]:{}):ne(u,N(s)?{}:s[i],t[i]);else{const n=s[i];t[i]=!ee(u,n)}}return t}const Ze={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var ct=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!x(e[0].attributes.value)?x(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Ze}return Ze},yt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>x(e)?e:s?e===""?NaN:e&&+e:t&&B(e)?new Date(e):i?i(e):e;const Je={isValid:!1,value:null};var ht=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Je):Je;function Qe(e){const s=e.ref;return Ue(s)?s.files:Re(s)?ht(e.refs).value:ft(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?ct(e.refs).value:yt(x(s.value)?e.ref.value:s.value,e)}var jt=(e,s,t,i)=>{const u={};for(const n of e){const l=h(s,n);l&&w(u,n,l._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,de=e=>x(e)?e:Ve(e)?e.source:k(e)?Ve(e.value)?e.value.source:e.value:e,Xe=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched});const Ge="AsyncFunction";var qt=e=>!!e&&!!e.validate&&!!(H(e.validate)&&e.validate.constructor.name===Ge||k(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Ge)),Wt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),et=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,s,t,i)=>{for(const u of t||Object.keys(e)){const n=h(e,u);if(n){const{_f:l,...d}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],u)&&!i)return!0;if(l.ref&&s(l.ref,l.name)&&!i)return!0;if(ye(d,s))break}else if(k(d)&&ye(d,s))break}}};function tt(e,s,t){const i=h(e,t);if(i||_e(t))return{error:i,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),l=h(s,n),d=h(e,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};u.pop()}return{name:t}}var Ht=(e,s,t,i)=>{t(e);const{name:u,...n}=e;return M(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!i||$.all))},$t=(e,s,t)=>!e||!s||e===s||ce(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),zt=(e,s,t,i,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?i.isOnBlur:u.isOnBlur)?!e:(t?i.isOnChange:u.isOnChange)?e:!0,Kt=(e,s)=>!Ce(h(e,s)).length&&E(e,s),Zt=(e,s,t)=>{const i=ce(h(e,t));return w(i,"root",s[t]),w(e,t,i),e};function rt(e,s,t="validate"){if(B(e)||Array.isArray(e)&&e.every(B)||K(e)&&!e)return{type:t,message:B(e)?e:"",ref:s}}var ae=e=>k(e)&&!Ve(e)?e:{value:e,message:""},st=async(e,s,t,i,u,n)=>{const{ref:l,refs:d,required:D,maxLength:L,minLength:Z,min:A,max:S,pattern:b,validate:Y,name:P,valueAsNumber:z,mount:j}=e._f,V=h(t,P);if(!j||s.has(P))return{};const J=d?d[0]:l,Q=v=>{u&&J.reportValidity&&(J.setCustomValidity(K(v)?"":v||""),J.reportValidity())},O={},oe=Re(l),ge=he(l),te=oe||ge,ie=(z||Ue(l))&&x(l.value)&&x(V)||be(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,q=Le.bind(null,P,i,O),ve=(v,_,C,U=X.maxLength,W=X.minLength)=>{const I=v?_:C;O[P]={type:v?U:W,message:I,ref:l,...q(v?U:W,I)}};if(n?!Array.isArray(V)||!V.length:D&&(!te&&(ie||N(V))||K(V)&&!V||ge&&!ct(d).isValid||oe&&!ht(d).isValid)){const{value:v,message:_}=B(D)?{value:!!D,message:D}:ae(D);if(v&&(O[P]={type:X.required,message:_,ref:J,...q(X.required,_)},!i))return Q(_),O}if(!ie&&(!N(A)||!N(S))){let v,_;const C=ae(S),U=ae(A);if(!N(V)&&!isNaN(V)){const W=l.valueAsNumber||V&&+V;N(C.value)||(v=W>C.value),N(U.value)||(_=W<U.value)}else{const W=l.valueAsDate||new Date(V),I=fe=>new Date(new Date().toDateString()+" "+fe),le=l.type=="time",ue=l.type=="week";B(C.value)&&V&&(v=le?I(V)>I(C.value):ue?V>C.value:W>new Date(C.value)),B(U.value)&&V&&(_=le?I(V)<I(U.value):ue?V<U.value:W<new Date(U.value))}if((v||_)&&(ve(!!v,C.message,U.message,X.max,X.min),!i))return Q(O[P].message),O}if((L||Z)&&!ie&&(B(V)||n&&Array.isArray(V))){const v=ae(L),_=ae(Z),C=!N(v.value)&&V.length>+v.value,U=!N(_.value)&&V.length<+_.value;if((C||U)&&(ve(C,v.message,_.message),!i))return Q(O[P].message),O}if(b&&!ie&&B(V)){const{value:v,message:_}=ae(b);if(Ve(v)&&!V.match(v)&&(O[P]={type:X.pattern,message:_,ref:l,...q(X.pattern,_)},!i))return Q(_),O}if(Y){if(H(Y)){const v=await Y(V,t),_=rt(v,J);if(_&&(O[P]={..._,...q(X.validate,_.message)},!i))return Q(_.message),O}else if(k(Y)){let v={};for(const _ in Y){if(!M(v)&&!i)break;const C=rt(await Y[_](V,t),J,_);C&&(v={...C,...q(_,C.message)},Q(C.message),i&&(O[P]=v))}if(!M(v)&&(O[P]={ref:J,...v},!i))return O}}return Q(!0),O};const Yt={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function Jt(e={}){let s={...Yt,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:H(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=k(s.defaultValues)||k(s.values)?T(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:T(u),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},D,L=0;const Z={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={...Z};let S={...A};const b={array:Ke(),state:Ke()},Y=s.criteriaMode===$.all,P=r=>a=>{clearTimeout(L),L=setTimeout(r,a)},z=async r=>{if(!l.keepIsValid&&!s.disabled&&(A.isValid||S.isValid||r)){let a;s.resolver?(a=M((await te()).errors),j()):a=await q(i,!0),a!==t.isValid&&b.state.next({isValid:a})}},j=(r,a)=>{!s.disabled&&(A.isValidating||A.validatingFields||S.isValidating||S.validatingFields)&&((r||Array.from(d.mount)).forEach(o=>{o&&(a?w(t.validatingFields,o,a):E(t.validatingFields,o))}),b.state.next({validatingFields:t.validatingFields,isValidating:!M(t.validatingFields)}))},V=(r,a=[],o,y,c=!0,f=!0)=>{if(y&&o&&!s.disabled){if(l.action=!0,f&&Array.isArray(h(i,r))){const g=o(h(i,r),y.argA,y.argB);c&&w(i,r,g)}if(f&&Array.isArray(h(t.errors,r))){const g=o(h(t.errors,r),y.argA,y.argB);c&&w(t.errors,r,g),Kt(t.errors,r)}if((A.touchedFields||S.touchedFields)&&f&&Array.isArray(h(t.touchedFields,r))){const g=o(h(t.touchedFields,r),y.argA,y.argB);c&&w(t.touchedFields,r,g)}(A.dirtyFields||S.dirtyFields)&&(t.dirtyFields=ne(u,n)),b.state.next({name:r,isDirty:v(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else w(n,r,a)},J=(r,a)=>{w(t.errors,r,a),b.state.next({errors:t.errors})},Q=r=>{t.errors=r,b.state.next({errors:t.errors,isValid:!1})},O=(r,a,o,y)=>{const c=h(i,r);if(c){const f=h(n,r,x(o)?h(u,r):o);x(f)||y&&y.defaultChecked||a?w(n,r,a?f:Qe(c._f)):U(r,f),l.mount&&!l.action&&z()}},oe=(r,a,o,y,c)=>{let f=!1,g=!1;const m={name:r};if(!s.disabled){if(!o||y){(A.isDirty||S.isDirty)&&(g=t.isDirty,t.isDirty=m.isDirty=v(),f=g!==m.isDirty);const F=ee(h(u,r),a);g=!!h(t.dirtyFields,r),F?E(t.dirtyFields,r):w(t.dirtyFields,r,!0),m.dirtyFields=t.dirtyFields,f=f||(A.dirtyFields||S.dirtyFields)&&g!==!F}if(o){const F=h(t.touchedFields,r);F||(w(t.touchedFields,r,o),m.touchedFields=t.touchedFields,f=f||(A.touchedFields||S.touchedFields)&&F!==o)}f&&c&&b.state.next(m)}return f?m:{}},ge=(r,a,o,y)=>{const c=h(t.errors,r),f=(A.isValid||S.isValid)&&K(a)&&t.isValid!==a;if(s.delayError&&o?(D=P(()=>J(r,o)),D(s.delayError)):(clearTimeout(L),D=null,o?w(t.errors,r,o):E(t.errors,r)),(o?!ee(c,o):c)||!M(y)||f){const g={...y,...f&&K(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...g},b.state.next(g)}},te=async r=>(j(r,!0),await s.resolver(n,s.context,jt(r||d.mount,i,s.criteriaMode,s.shouldUseNativeValidation))),ie=async r=>{const{errors:a}=await te(r);if(j(r),r)for(const o of r){const y=h(a,o);y?w(t.errors,o,y):E(t.errors,o)}else t.errors=a;return a},q=async(r,a,o={valid:!0})=>{for(const y in r){const c=r[y];if(c){const{_f:f,...g}=c;if(f){const m=d.array.has(f.name),F=c._f&&qt(c._f);F&&A.validatingFields&&j([f.name],!0);const R=await st(c,d.disabled,n,Y,s.shouldUseNativeValidation&&!a,m);if(F&&A.validatingFields&&j([f.name]),R[f.name]&&(o.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(h(R,f.name)?m?Zt(t.errors,R,f.name):w(t.errors,f.name,R[f.name]):E(t.errors,f.name))}!M(g)&&await q(g,a,o)}}return o.valid},ve=()=>{for(const r of d.unMount){const a=h(i,r);a&&(a._f.refs?a._f.refs.every(o=>!De(o)):!De(a._f.ref))&&me(r)}d.unMount=new Set},v=(r,a)=>!s.disabled&&(r&&a&&w(n,r,a),!ee(pe(),u)),_=(r,a,o)=>pt(r,d,{...l.mount?n:x(a)?u:B(r)?{[r]:a}:a},o,a),C=r=>Ce(h(l.mount?n:u,r,s.shouldUnregister?h(u,r,[]):[])),U=(r,a,o={})=>{const y=h(i,r);let c=a;if(y){const f=y._f;f&&(!f.disabled&&w(n,r,yt(a,f)),c=be(f.ref)&&N(a)?"":a,ft(f.ref)?[...f.ref.options].forEach(g=>g.selected=c.includes(g.value)):f.refs?he(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(c)?g.checked=!!c.find(m=>m===g.value):g.checked=c===g.value||!!c)}):f.refs.forEach(g=>g.checked=g.value===c):Ue(f.ref)?f.ref.value="":(f.ref.value=c,f.ref.type||b.state.next({name:r,values:T(n)})))}(o.shouldDirty||o.shouldTouch)&&oe(r,c,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&fe(r)},W=(r,a,o)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const c=a[y],f=r+"."+y,g=h(i,f);(d.array.has(r)||k(c)||g&&!g._f)&&!se(c)?W(f,c,o):U(f,c,o)}},I=(r,a,o={})=>{const y=h(i,r),c=d.array.has(r),f=T(a);w(n,r,f),c?(b.array.next({name:r,values:T(n)}),(A.isDirty||A.dirtyFields||S.isDirty||S.dirtyFields)&&o.shouldDirty&&b.state.next({name:r,dirtyFields:ne(u,n),isDirty:v(r,f)})):y&&!y._f&&!N(f)?W(r,f,o):U(r,f,o),et(r,d)?b.state.next({...t,name:r,values:T(n)}):b.state.next({name:l.mount?r:void 0,values:T(n)})},le=async r=>{l.mount=!0;const a=r.target;let o=a.name,y=!0;const c=h(i,o),f=F=>{y=Number.isNaN(F)||se(F)&&isNaN(F.getTime())||ee(F,h(n,o,F))},g=Xe(s.mode),m=Xe(s.reValidateMode);if(c){let F,R;const re=a.type?Qe(c._f):St(r),G=r.type===ze.BLUR||r.type===ze.FOCUS_OUT,At=!Wt(c._f)&&!s.resolver&&!h(t.errors,o)&&!c._f.deps||zt(G,h(t.touchedFields,o),t.isSubmitted,m,g),we=et(o,d,G);w(n,o,re),G?(!a||!a.readOnly)&&(c._f.onBlur&&c._f.onBlur(r),D&&D(0)):c._f.onChange&&c._f.onChange(r);const xe=oe(o,re,G),wt=!M(xe)||we;if(!G&&b.state.next({name:o,type:r.type,values:T(n)}),At)return(A.isValid||S.isValid)&&(s.mode==="onBlur"?G&&z():G||z()),wt&&b.state.next({name:o,...we?{}:xe});if(!G&&we&&b.state.next({...t}),s.resolver){const{errors:He}=await te([o]);if(j([o]),f(re),y){const xt=tt(t.errors,i,o),$e=tt(He,i,xt.name||o);F=$e.error,o=$e.name,R=M(He)}}else j([o],!0),F=(await st(c,d.disabled,n,Y,s.shouldUseNativeValidation))[o],j([o]),f(re),y&&(F?R=!1:(A.isValid||S.isValid)&&(R=await q(i,!0)));y&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&fe(c._f.deps),ge(o,R,F,xe))}},ue=(r,a)=>{if(h(t.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let o,y;const c=ce(r);if(s.resolver){const f=await ie(x(r)?r:c);o=M(f),y=r?!c.some(g=>h(f,g)):o}else r?(y=(await Promise.all(c.map(async f=>{const g=h(i,f);return await q(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&z()):y=o=await q(i);return b.state.next({...!B(r)||(A.isValid||S.isValid)&&o!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:o}:{},errors:t.errors}),a.shouldFocus&&!y&&ye(i,ue,r?c:d.mount),y},pe=(r,a)=>{let o={...l.mount?n:u};return a&&(o=ut(a.dirtyFields?t.dirtyFields:t.touchedFields,o)),x(r)?o:B(r)?h(o,r):r.map(y=>h(o,y))},Me=(r,a)=>({invalid:!!h((a||t).errors,r),isDirty:!!h((a||t).dirtyFields,r),error:h((a||t).errors,r),isValidating:!!h(t.validatingFields,r),isTouched:!!h((a||t).touchedFields,r)}),gt=r=>{r&&ce(r).forEach(a=>E(t.errors,a)),b.state.next({errors:r?t.errors:{}})},Ne=(r,a,o)=>{const y=(h(i,r,{_f:{}})._f||{}).ref,c=h(t.errors,r)||{},{ref:f,message:g,type:m,...F}=c;w(t.errors,r,{...F,...a,ref:y}),b.state.next({name:r,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},vt=(r,a)=>H(r)?b.state.subscribe({next:o=>"values"in o&&r(_(void 0,a),o)}):_(r,a,!0),Pe=r=>b.state.subscribe({next:a=>{$t(r.name,a.name,r.exact)&&Ht(a,r.formState||A,Ft,r.reRenderRoot)&&r.callback({values:{...n},...t,...a,defaultValues:u})}}).unsubscribe,bt=r=>(l.mount=!0,S={...S,...r.formState},Pe({...r,formState:{...Z,...r.formState}})),me=(r,a={})=>{for(const o of r?ce(r):d.mount)d.mount.delete(o),d.array.delete(o),a.keepValue||(E(i,o),E(n,o)),!a.keepError&&E(t.errors,o),!a.keepDirty&&E(t.dirtyFields,o),!a.keepTouched&&E(t.touchedFields,o),!a.keepIsValidating&&E(t.validatingFields,o),!s.shouldUnregister&&!a.keepDefaultValue&&E(u,o);b.state.next({values:T(n)}),b.state.next({...t,...a.keepDirty?{isDirty:v()}:{}}),!a.keepIsValid&&z()},Ie=({disabled:r,name:a})=>{if(K(r)&&l.mount||r||d.disabled.has(a)){const c=d.disabled.has(a)!==!!r;r?d.disabled.add(a):d.disabled.delete(a),c&&l.mount&&!l.action&&z()}},Fe=(r,a={})=>{let o=h(i,r);const y=K(a.disabled)||K(s.disabled);return w(i,r,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:r}},name:r,mount:!0,...a}}),d.mount.add(r),o?Ie({disabled:K(a.disabled)?a.disabled:s.disabled,name:r}):O(r,!0,a.value),{...y?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:de(a.min),max:de(a.max),minLength:de(a.minLength),maxLength:de(a.maxLength),pattern:de(a.pattern)}:{},name:r,onChange:le,onBlur:le,ref:c=>{if(c){Fe(r,a),o=h(i,r);const f=x(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Nt(f),m=o._f.refs||[];if(g?m.find(F=>F===f):f===o._f.ref)return;w(i,r,{_f:{...o._f,...g?{refs:[...m.filter(De),f,...Array.isArray(h(u,r))?[{}]:[]],ref:{type:f.type,name:r}}:{ref:f}}}),O(r,!1,void 0,f)}else o=h(i,r,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(Ct(d.array,r)&&l.action)&&d.unMount.add(r)}}},Ae=()=>s.shouldFocusError&&ye(i,ue,d.mount),Vt=r=>{K(r)&&(b.state.next({disabled:r}),ye(i,(a,o)=>{const y=h(i,o);y&&(a.disabled=y._f.disabled||r,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||r}))},0,!1))},Be=(r,a)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=T(n);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:g}=await te();j(),t.errors=f,c=T(g)}else await q(i);if(d.disabled.size)for(const f of d.disabled)E(c,f);if(E(t.errors,"root"),M(t.errors)){b.state.next({errors:{}});try{await r(c,o)}catch(f){y=f}}else a&&await a({...t.errors},o),Ae(),setTimeout(Ae);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},_t=(r,a={})=>{h(i,r)&&(x(a.defaultValue)?I(r,T(h(u,r))):(I(r,a.defaultValue),w(u,r,T(a.defaultValue))),a.keepTouched||E(t.touchedFields,r),a.keepDirty||(E(t.dirtyFields,r),t.isDirty=a.defaultValue?v(r,T(h(u,r))):v()),a.keepError||(E(t.errors,r),A.isValid&&z()),b.state.next({...t}))},je=(r,a={})=>{const o=r?T(r):u,y=T(o),c=M(r),f=c?u:y;if(a.keepDefaultValues||(u=o),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(ne(u,n))]);for(const m of Array.from(g)){const F=h(t.dirtyFields,m),R=h(n,m),re=h(f,m);F&&!x(R)?w(f,m,R):!F&&!x(re)&&I(m,re)}}else{if(Oe&&x(r))for(const g of d.mount){const m=h(i,g);if(m&&m._f){const F=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(be(F)){const R=F.closest("form");if(R){R.reset();break}}}}if(a.keepFieldsRef)for(const g of d.mount)I(g,h(f,g));else i={}}n=s.shouldUnregister?a.keepDefaultValues?T(u):{}:T(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!s.shouldUnregister&&!M(f),l.watch=!!s.shouldUnregister,l.keepIsValid=!!a.keepIsValid,l.action=!1,a.keepErrors||(t.errors={}),b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(r,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ne(u,n):t.dirtyFields:a.keepDefaultValues&&r?ne(u,r):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},qe=(r,a)=>je(H(r)?r(n):r,{...s.resetOptions,...a}),mt=(r,a={})=>{const o=h(i,r),y=o&&o._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&setTimeout(()=>{c.focus(),a.shouldSelect&&H(c.select)&&c.select()})}},Ft=r=>{t={...t,...r}},We={control:{register:Fe,unregister:me,getFieldState:Me,handleSubmit:Be,setError:Ne,_subscribe:Pe,_runSchema:te,_updateIsValidating:j,_focusError:Ae,_getWatch:_,_getDirty:v,_setValid:z,_setFieldArray:V,_setDisabledField:Ie,_setErrors:Q,_getFieldArray:C,_reset:je,_resetDefaultValues:()=>H(s.defaultValues)&&s.defaultValues().then(r=>{qe(r,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:Vt,_subjects:b,_proxyFormState:A,get _fields(){return i},get _formValues(){return n},get _state(){return l},set _state(r){l=r},get _defaultValues(){return u},get _names(){return d},set _names(r){d=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:bt,trigger:fe,register:Fe,handleSubmit:Be,watch:vt,setValue:I,getValues:pe,reset:qe,resetField:_t,clearErrors:gt,unregister:me,setError:Ne,setFocus:mt,getFieldState:Me};return{...We,formControl:We}}function sr(e={}){const s=p.useRef(void 0),t=p.useRef(void 0),[i,u]=p.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!H(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...d}=Jt(e);s.current={...d,formState:i}}const n=s.current.control;return n._options=e,Rt(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(d=>({...d,isReady:!0})),n._formState.isReady=!0,l},[n]),p.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),p.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),p.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),p.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),p.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==i.isDirty&&n._subjects.state.next({isDirty:l})}},[n,i.isDirty]),p.useEffect(()=>{var l;e.values&&!ee(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((l=n._options.resetOptions)===null||l===void 0)&&l.keepIsValid||n._setValid(),t.current=e.values,u(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),p.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=p.useMemo(()=>Ut(i,n),[n,i]),s.current}const it=(e,s,t)=>{if(e&&"reportValidity"in e){const i=h(t,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Se=(e,s)=>{for(const t in s.fields){const i=s.fields[t];i&&i.ref&&"reportValidity"in i.ref?it(i.ref,t,e):i&&i.refs&&i.refs.forEach(u=>it(u,t,e))}},at=(e,s)=>{s.shouldUseNativeValidation&&Se(e,s);const t={};for(const i in e){const u=h(s.fields,i),n=Object.assign(e[i]||{},{ref:u&&u.ref});if(Qt(s.names||Object.keys(e),i)){const l=Object.assign({},h(t,i));w(l,"root",n),w(t,i,l)}else w(t,i,n)}return t},Qt=(e,s)=>{const t=nt(s);return e.some(i=>nt(i).match(`^${t}\\.\\d+`))};function nt(e){return e.replace(/\]|\[/g,"")}function ot(e,s){try{var t=e()}catch(i){return s(i)}return t&&t.then?t.then(void 0,s):t}function Xt(e,s){for(var t={};e.length;){var i=e[0],u=i.code,n=i.message,l=i.path.join(".");if(!t[l])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];t[l]={message:d.message,type:d.code}}else t[l]={message:n,type:u};if("unionErrors"in i&&i.unionErrors.forEach(function(Z){return Z.errors.forEach(function(A){return e.push(A)})}),s){var D=t[l].types,L=D&&D[i.code];t[l]=Le(l,s,t,u,L?[].concat(L,i.message):i.message)}e.shift()}return t}function Gt(e,s){for(var t={};e.length;){var i=e[0],u=i.code,n=i.message,l=i.path.join(".");if(!t[l])if(i.code==="invalid_union"&&i.errors.length>0){var d=i.errors[0][0];t[l]={message:d.message,type:d.code}}else t[l]={message:n,type:u};if(i.code==="invalid_union"&&i.errors.forEach(function(Z){return Z.forEach(function(A){return e.push(A)})}),s){var D=t[l].types,L=D&&D[i.code];t[l]=Le(l,s,t,u,L?[].concat(L,i.message):i.message)}e.shift()}return t}function ir(e,s,t){if(t===void 0&&(t={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,u,n){try{return Promise.resolve(ot(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(l){return n.shouldUseNativeValidation&&Se({},n),{errors:{},values:t.raw?Object.assign({},i):l}})},function(l){if((function(d){return Array.isArray(d?.issues)})(l))return{values:{},errors:at(Xt(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,u,n){try{return Promise.resolve(ot(function(){return Promise.resolve((t.mode==="sync"?Dt:Et)(e,i,s)).then(function(l){return n.shouldUseNativeValidation&&Se({},n),{errors:{},values:t.raw?Object.assign({},i):l}})},function(l){if((function(d){return d instanceof kt})(l))return{values:{},errors:at(Gt(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}export{ir as a,sr as u};
