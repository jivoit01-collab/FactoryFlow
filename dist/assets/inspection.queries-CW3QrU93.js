import{u as o,a as c}from"./useMutation-DX1k4_5x.js";import{F as a,G as i,H as l}from"./index-DpV7uZj9.js";function u(e){if(!e)return"";const t=new URLSearchParams;e.from_date&&t.append("from_date",e.from_date),e.to_date&&t.append("to_date",e.to_date),e.workflow_status&&t.append("workflow_status",e.workflow_status),e.final_status&&t.append("final_status",e.final_status);const s=t.toString();return s?`?${s}`:""}const r={async getList(e){return(await a.get(i.QUALITY_CONTROL_V2.INSPECTIONS_LIST+u(e))).data},async getPendingList(e){return(await a.get(i.QUALITY_CONTROL_V2.PENDING_INSPECTIONS+u(e))).data},async getAwaitingChemist(e){return(await a.get(i.QUALITY_CONTROL_V2.AWAITING_CHEMIST+u(e))).data},async getAwaitingQAM(e){return(await a.get(i.QUALITY_CONTROL_V2.AWAITING_QAM+u(e))).data},async getCompleted(e){return(await a.get(i.QUALITY_CONTROL_V2.COMPLETED_INSPECTIONS+u(e))).data},async getRejected(e){return(await a.get(i.QUALITY_CONTROL_V2.REJECTED_INSPECTIONS+u(e))).data},async getById(e){return(await a.get(i.QUALITY_CONTROL_V2.INSPECTION_BY_ID(e))).data},async getForSlip(e){try{return(await a.get(i.QUALITY_CONTROL_V2.INSPECTION_FOR_SLIP(e))).data}catch(t){if(t.status===404)return null;throw t}},async create(e,t){return(await a.post(i.QUALITY_CONTROL_V2.INSPECTION_FOR_SLIP(e),t)).data},async update(e,t){return(await a.post(i.QUALITY_CONTROL_V2.INSPECTION_FOR_SLIP(e),t)).data},async updateParameters(e,t){return(await a.post(i.QUALITY_CONTROL_V2.INSPECTION_PARAMETERS(e),{results:t})).data},async submit(e){return(await a.post(i.QUALITY_CONTROL_V2.INSPECTION_SUBMIT(e))).data},async approveAsChemist(e,t){return(await a.post(i.QUALITY_CONTROL_V2.APPROVE_CHEMIST(e),t)).data},async approveAsQAM(e,t){return(await a.post(i.QUALITY_CONTROL_V2.APPROVE_QAM(e),t)).data},async reject(e,t){return(await a.post(i.QUALITY_CONTROL_V2.REJECT_INSPECTION(e),t)).data}},n={all:["inspections"],list:e=>[...n.all,"list",e],pending:e=>[...n.all,"pending",e],awaitingChemist:e=>[...n.all,"awaitingChemist",e],awaitingQAM:e=>[...n.all,"awaitingQAM",e],completed:e=>[...n.all,"completed",e],rejected:e=>[...n.all,"rejected",e],detail:e=>[...n.all,"detail",e],forSlip:e=>[...n.all,"forSlip",e]};function y(e){return o({queryKey:n.list(e),queryFn:()=>r.getList(e),staleTime:30*1e3})}function _(e){return o({queryKey:n.pending(e),queryFn:()=>r.getPendingList(e),staleTime:30*1e3,refetchInterval:60*1e3})}function I(e){return o({queryKey:n.awaitingChemist(e),queryFn:()=>r.getAwaitingChemist(e),staleTime:30*1e3})}function T(e){return o({queryKey:n.awaitingQAM(e),queryFn:()=>r.getAwaitingQAM(e),staleTime:30*1e3})}function C(e){return o({queryKey:n.completed(e),queryFn:()=>r.getCompleted(e),staleTime:30*1e3})}function A(e){return o({queryKey:n.rejected(e),queryFn:()=>r.getRejected(e),staleTime:30*1e3})}function O(e){return o({queryKey:n.forSlip(e),queryFn:()=>r.getForSlip(e),enabled:!!e})}function N(){const e=l();return c({mutationFn:({slipId:t,data:s})=>r.create(t,s),onSuccess:(t,{slipId:s})=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.forSlip(s)})}})}function g(){const e=l();return c({mutationFn:({inspectionId:t,results:s})=>r.updateParameters(t,s),onSuccess:(t,{inspectionId:s})=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.detail(s)})}})}function S(){const e=l();return c({mutationFn:t=>r.submit(t),onSuccess:t=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.detail(t.id)})}})}function Q(){const e=l();return c({mutationFn:({id:t,data:s})=>r.approveAsChemist(t,s),onSuccess:t=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.detail(t.id)})}})}function L(){const e=l();return c({mutationFn:({id:t,data:s})=>r.approveAsQAM(t,s),onSuccess:t=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.detail(t.id)})}})}function f(){const e=l();return c({mutationFn:({id:t,data:s})=>r.reject(t,s),onSuccess:t=>{e.invalidateQueries({queryKey:n.all}),e.invalidateQueries({queryKey:n.detail(t.id)})}})}export{I as a,T as b,C as c,A as d,y as e,O as f,N as g,g as h,S as i,Q as j,L as k,f as l,_ as u};
