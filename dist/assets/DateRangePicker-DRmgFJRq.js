import{y as L,r as f,j as n,Z as b,_ as w,B as c,J as N,X as P,$ as S,a0 as g,a1 as d}from"./index-B8A-DpGn.js";const M=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O=L("calendar",M);function $({date:a,onDateChange:m,mode:o="range",className:v}){const[y,h]=f.useState(!1),[t,r]=f.useState(a),[x,i]=f.useState(null),l=e=>{r(e),i(null)},j=()=>{m?.(t),h(!1)},k=e=>{h(e),e&&(r(a),i(null))},D=e=>{e.stopPropagation(),r(void 0),m?.(void 0),i(null)},p=e=>{const s=new Date;s.setHours(0,0,0,0);const u=new Date(s);u.setDate(u.getDate()-e),r({from:u,to:s}),i(e)},C=()=>{if(!a)return"Select date";if(o==="single"&&a instanceof Date)return d(a,"PPP");if(o==="range"&&"from"in a){const{from:e,to:s}=a;if(e&&s)return`${d(e,"LLL dd, y")} - ${d(s,"LLL dd, y")}`;if(e)return`${d(e,"LLL dd, y")} - ...`}return"Select date"};return n.jsxs(b,{open:y,onOpenChange:k,children:[n.jsx(w,{asChild:!0,children:n.jsxs(c,{variant:"outline",className:N("justify-start text-left font-normal h-9",!a&&"text-muted-foreground",v),children:[n.jsx(O,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"flex-1",children:C()}),a&&n.jsx("button",{type:"button","aria-label":"Clear date",className:"ml-2 h-4 w-4 opacity-50 hover:opacity-100 inline-flex items-center justify-center",onClick:D,children:n.jsx(P,{className:"h-4 w-4"})})]})}),n.jsxs(S,{align:"center",side:"bottom",sideOffset:8,className:`\r
          p-0 bg-background\r
          w-auto\r
          max-w-[95vw]\r
          sm:w-[680px]\r
        `,children:[o==="single"?n.jsx(g,{initialFocus:!0,mode:"single",defaultMonth:t instanceof Date?t:void 0,selected:t instanceof Date?t:void 0,onSelect:l,numberOfMonths:1,onTodayClick:l}):n.jsx(g,{initialFocus:!0,mode:"range",defaultMonth:t&&"from"in t?t.from:void 0,selected:t&&"from"in t?t:void 0,onSelect:l,numberOfMonths:2,onTodayClick:e=>l({from:e,to:e}),hideTodayButton:!0}),n.jsx("div",{className:"p-3 border-t bg-background/30",children:n.jsxs("div",{className:"flex gap-2",children:[o==="range"&&n.jsxs(n.Fragment,{children:[n.jsx(c,{variant:x===7?"default":"outline",size:"sm",onClick:()=>p(7),children:"Last 7 days"}),n.jsx(c,{variant:x===30?"default":"outline",size:"sm",onClick:()=>p(30),children:"Last 30 days"})]}),n.jsx(c,{size:"sm",className:"ml-auto",onClick:j,children:"Done"})]})})]})]})}export{$ as D};
